<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[never615]]></title>
  <subtitle><![CDATA[创造价值]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://never615.com/"/>
  <updated>2016-04-05T17:25:49.000Z</updated>
  <id>http://never615.com/</id>
  
  <author>
    <name><![CDATA[never615]]></name>
    <email><![CDATA[never615@gmail.com]]></email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[项目总结、阶段总结]]></title>
    <link href="http://never615.com/2016/04/06/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
    <id>http://never615.com/2016/04/06/项目总结/</id>
    <published>2016-04-05T17:25:49.000Z</published>
    <updated>2016-04-05T17:25:49.000Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>距离上一个项目大体完成已经有一段时间了，一直说总结一下却一直拖着，最近已经开始php的学习了，觉得实在不能再拖了，需要对上一个阶段总结一下，然后好好的开始下一个阶段了。<br><a id="more"></a></p>
<h2 id="项目架构"><a href="#项目架构" class="headerlink" title="项目架构"></a>项目架构</h2></blockquote>
<p>项目的架构参考的是<a href="http://zhuanlan.zhihu.com/p/20001838" target="_blank" rel="external">简洁架构</a>(我最早就是在这个文章看到的介绍，真正使用已经是15年9月低了)，P层使用的是MVP。</p>
<img src="/2016/04/06/项目总结/架构1.png" alt="架构1.png" title="">
<img src="/2016/04/06/项目总结/架构2.png" alt="架构2.png" title="">
<p>实践的结果还是十分满意的，项目的结构很清晰，各层各司其职，井井有条。并且我开始习惯写接口，使用抽象的逻辑先完成整个框架的搭建，具体的实现分成一个一个的任务，可以让实现具体功能的人不用理解整个复杂的业务流程，也能保证开发的顺利进行。大大保证了项目的质量和开发的效率。</p>
<p>当然中间也有崎岖探索，随着一步步的实践，自己的理解也慢慢加深。当初开始使用的时候和后期项目差不多完成的时候，我又看了很多项目和架构的文章代码。领域驱动设计、mvvm、变形的mvp、插件化开发、跨平台等等。</p>
<p>到此我才越来越觉得编程思想的相通，越来越多的看到的东西并不是android圈或者纯android开发者的讨论了，很多web开发者的文章讨论。在web中早已经使用的IOC、数据绑定、mvvm等等再android开发中也渐渐的开始讨论到越来越多、使用的越来越多。</p>
<p>而这些在我近期开始php学习的时候也愈发显现出来，让我可以更快的接收概念理解上手。</p>
<h2 id="第三方轮子"><a href="#第三方轮子" class="headerlink" title="第三方轮子"></a>第三方轮子</h2><p>因为是小公司，所以基础库都是一些主流的轮子。</p>
<ul>
<li>图片库使用谷歌推荐的glide，facebook的fresco也很不错，但是我现在没有时间去研究它；</li>
<li>网络库使用retrofit+okhttp（缓存使用okhttp自带的缓存处理，<a href="http://www.jianshu.com/p/9c3b4ea108a7" target="_blank" rel="external">可以参考我之前的文章</a>）；</li>
<li>响应式编程RxJava（给我带来了新的编程思考方式，Everything is a stream.）</li>
<li>依赖注入的dagger2，刚开始的时候真的是一头雾水，因为不太明白依赖注入是个什么东西，做web开发的同学应该对依赖注入司空见惯了吧。特别是我前一段时间封装sdk，抽离dagger，又开始大量new对象的时候，更是觉得dagger的舒服。</li>
<li>数据库greendao，你需要建一个java工程写一些配置约束的代码，然后就可以帮你生成dao和model，真是太方便了，没有反射效率也高。</li>
<li>事件总线使用的是androidEventBus，注意不是greenrobot的eventbus。</li>
<li>印象笔记的android-job用来处理后台事件，它会根据android版本的不同来调用obScheduler, GcmNetworkManager 或者 AlarmManager。</li>
<li>还有一些小库如：处理日志logger、键值对存储的Hawk、注解绑定事件和方法的butterKnife，都是很好用的。</li>
<li>室内定位服务组件：室内定位、室内地图、室内导航，有业务需求的欢迎联系我。</li>
</ul>
<h2 id="一些项目总结"><a href="#一些项目总结" class="headerlink" title="一些项目总结"></a>一些项目总结</h2><ul>
<li>架构不是来限制你的，是来帮助你的，所以千万不要本末倒置，要活学活用。（在初期基本是邯郸学步，有样学样，即便是感觉这样做很不爽了，也还在坚持这样做。不过后来终于想通了，按照自己的想法理解开始改造，最后结果是：随着业务的不断扩大复杂，终于明白为什么有些要那么做，哈哈，不过也有很多改的对的，总之就是要知行合一！）</li>
<li>父级P类不用写resume和pause方法，因为很多情况是不需要这两个方法的；</li>
<li>父级P写setView（设置view接口）和initData，这两个是所有P都要实现的，所以写到父级；为什么不合并这两个，因为对象的初始化在setView中，是一次就够了，但是initData不一定，比如可能要在onNewIntent中调用。</li>
<li>每个module配置自己的混淆文件,方便管理，在application的pro_guard_rules配置也可以，但是当module不用时appliction会产生冗余配置还要处理。</li>
<li>每个module配置自己的依赖，为了高内聚，并且打包的时候并不会重复打包不同module之间的相同引用。</li>
<li>所有的跳转都要走navigator,（navigator是统一处理页面跳转的类）</li>
</ul>
<h2 id="一些好用的东西"><a href="#一些好用的东西" class="headerlink" title="一些好用的东西"></a>一些好用的东西</h2><ul>
<li>使用AndroidStudio进行开发，有很多朋友的公司还在使用eclipse开发，听着就替他揪心。<h3 id="AndroidStudio插件"><a href="#AndroidStudio插件" class="headerlink" title="AndroidStudio插件"></a>AndroidStudio插件</h3></li>
<li>.ignore ，当然同系的软件都可以用，想PhpStorm、IntelliJ、WebStorm等。</li>
<li>Android  ButterKnife Zelezny （AndroidStudio插件）这个是配合 ButterKnife使用的，让你从findviewbyid中解脱，当然如果你使用databinding的话，也不用findviewbyid了。。</li>
<li>GsonFormat 让你从写json相关的实体类中解脱</li>
<li>WakaTime <a href="https://wakatime.com/dashboard" target="_blank" rel="external">这是他的网站</a>，统计你各种编程的时间。<h3 id="AndroidStudio使用"><a href="#AndroidStudio使用" class="headerlink" title="AndroidStudio使用"></a>AndroidStudio使用</h3></li>
<li>AndroidStudio setting Http Proxy 选择sockets，配置127.0.0.1 1080配合ShadowSocks使用</li>
<li>配置使用代码模板，团队模板要统一。</li>
<li>commed+f12 查看结构</li>
<li>F3 代码加书签，commed+F3</li>
<li>alt+commed+t 配置代码包裹</li>
<li>commed+alt+B 查看方法的实现</li>
<li>commed+U 查看方法的抽象方法（接口写多了，这一对还是很常用的）<h3 id="chrome插件"><a href="#chrome插件" class="headerlink" title="chrome插件"></a>chrome插件</h3></li>
<li>Postman 一款功能强大的网页调试与发送网页HTTP请求的Chrome插件。</li>
<li>ChromeADB</li>
<li>OneTab 可以帮你把打开的很多网页收起来存着，很方便。在windows上用chrome打开太多页面会很占资源变卡，但是在mac上感觉还好。(顺便推荐mac pro做开发，真的好用)</li>
<li>Octotree 浏览github代码的时候，左侧可以树桩浏览目录结构，十分方便。</li>
<li>JSONView 格式化json数据</li>
<li>有道词典 英语不好的，经常查单词太慢，用这个还是很好用的。</li>
<li>Vysor 同步android手机画面，并且可以控制，记得大学答辩的时候用的一个延迟好大，这个延迟很低。<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3></li>
<li><a href="www.versioneye.com">versioneye</a> 项目中引用了很多第三方库，他可以提醒你哪些库可以升级了，我的项目所有依赖都配置在dependencies.gradle中，我把这个文件上传上去就识别了，但是库好像不全。。其他项目像php的也都可以使用。</li>
<li>mac软件推荐到 www.ifunmac.com，虽然是要收费的，但是不贵还是很值的，省去了找软件的时间，并且更新很快。</li>
<li>No Sleep 让你的mac不sleep</li>
<li>如果你在找一个地方写博客的话，我推荐简书。</li>
<li>笔记是积累，博客是沉淀，我一直在用为知笔记，mac版的不如windows的好用，你也可以尝试印象笔记等。我也试过<a href="http://dynalon.github.io/mdwiki/#!index.md" target="_blank" rel="external">mdwiki</a>和<a href="http://tiddlywiki.com/" target="_blank" rel="external">tiddlywiki.com</a>,但是感觉不如为知笔记好用，主要效率就差很多。位置笔记各个平台上也都有客户端让你的体验更好。</li>
<li><a href="https://get.fabric.io/android?locale=zh-cn" target="_blank" rel="external">fabric</a>Twitter的移动应用开发平台。我在androidStudio装插件一直登陆不上。。</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>距离上一个项目大体完成已经有一段时间了，一直说总结一下却一直拖着，最近已经开始php的学习了，觉得实在不能再拖了，需要对上一个阶段总结一下，然后好好的开始下一个阶段了。<br>]]>
    
    </summary>
    
      <category term="mvp" scheme="http://never615.com/tags/mvp/"/>
    
      <category term="简洁架构" scheme="http://never615.com/tags/%E7%AE%80%E6%B4%81%E6%9E%B6%E6%9E%84/"/>
    
      <category term="android" scheme="http://never615.com/categories/android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[linux下使用gcc编译so库]]></title>
    <link href="http://never615.com/2016/03/17/linux%E4%B8%8B%E4%BD%BF%E7%94%A8gcc%E7%BC%96%E8%AF%91so%E5%BA%93/"/>
    <id>http://never615.com/2016/03/17/linux下使用gcc编译so库/</id>
    <published>2016-03-17T15:11:00.000Z</published>
    <updated>2016-03-17T15:11:00.000Z</updated>
    <content type="html"><![CDATA[<p>最近公司在做微信端的定位和导航，所以需要云端提供导航和定位功能，为了复用之前客户端的代码，所以我需要把c文件编译成linux下可以运行的so库，记录一下过程。</p>
<a id="more"></a>
<p>由于没有搞过，所以遇到问题也不知道具体是哪里的问题，所以就一路乱试。。。最后试了下，可以用。</p>
<h3 id="用到的一些gcc命令"><a href="#用到的一些gcc命令" class="headerlink" title="用到的一些gcc命令"></a>用到的一些gcc命令</h3><blockquote>
<p>-shared:指定生成动态连接库,不用该标志外部程序无法连接。相当于一个可执行文件(我开始没加这个，报错找不到main)</p>
<p>-fPIC:表示编译为位置独立的代码，不用此选项的话编译后的代码是位置相关的所以动态载入时是通过代码拷贝的方式来满足不同进程的需要，而不能达到真正代码段共享的目的。</p>
<p>-I:指定头文件所在的文件夹</p>
</blockquote>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><h4 id="编译时报错：找不到jni-h"><a href="#编译时报错：找不到jni-h" class="headerlink" title="编译时报错：找不到jni.h"></a>编译时报错：找不到jni.h</h4><p>我用虚拟机装了Ubuntu，输入java没有找到，然后按着提示随便装了一个。。。<br>当然我现在知道装的是OpenJDK(<a href="https://www.zhihu.com/question/19646618" target="_blank" rel="external">OpenJDK和SunJDK的区别</a>)，google也决定在android N中使用OpenJDK了(<a href="http://www.infoq.com/cn/news/2016/01/android-openjdk" target="_blank" rel="external">相关报道</a>)。。</p>
<p>所以我又下载了SunJDK，编译的时候要引用相关文件,加如下命令</p>
<pre><code>-I/[jdk目录]/include -I/[jdk目录]/include/linux
</code></pre><p>[jdk目录]/include是jni.h所在目录；<br>[jdk目录]/include/linux是jni_md.h所在目录</p>
<h4 id="编译报错：找不到main"><a href="#编译报错：找不到main" class="headerlink" title="编译报错：找不到main"></a>编译报错：找不到main</h4><p>没有加命令 -shared(命令介绍参考上面)</p>
<h4 id="编译时报错：找不到math-h"><a href="#编译时报错：找不到math-h" class="headerlink" title="编译时报错：找不到math.h"></a>编译时报错：找不到math.h</h4><p>使用math.h中声明的库函数，gcc命令行必须加-lm选项，因为数学函数位于libm.so库文件中（这些库文件通常位于/lib目录下），-lm选项告诉编译器，我们程序中用到的数学函数要到这个库文件里找。</p>
<p>我最后是把c文件一个一个编译成.o然后，然后在编译成.so的，因为怕出错，不知道哪个文件的问题。。。当然也可以直接一句话如下：</p>
<pre><code>gcc [.c文件，多个用空格隔开] -fPIC -shared -I/usr/xxx/include -I/usr/xxx/include/linux -lm -o libtest.so
</code></pre><p>编译成.o命令:gcc -c test.c</p>
<p>.o编译成.so:gcc test.o -o test(默认会添加lib前缀和.so后缀)</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近公司在做微信端的定位和导航，所以需要云端提供导航和定位功能，为了复用之前客户端的代码，所以我需要把c文件编译成linux下可以运行的so库，记录一下过程。</p>]]>
    
    </summary>
    
      <category term="gcc" scheme="http://never615.com/tags/gcc/"/>
    
      <category term="so库" scheme="http://never615.com/tags/so%E5%BA%93/"/>
    
      <category term="linux" scheme="http://never615.com/categories/linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[个人小站建站记]]></title>
    <link href="http://never615.com/2016/02/26/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%AB%99%E5%BB%BA%E7%AB%99%E8%AE%B0/"/>
    <id>http://never615.com/2016/02/26/个人小站建站记/</id>
    <published>2016-02-25T17:38:25.000Z</published>
    <updated>2016-02-25T17:38:24.000Z</updated>
    <content type="html"><![CDATA[<h1 id="个人小站建站记"><a href="#个人小站建站记" class="headerlink" title="个人小站建站记"></a>个人小站建站记</h1><blockquote>
<p>折腾了两天终于搭起了自己的第一个站点，恩，一件让我充满幸福感的事☺️。</p>
</blockquote>
<p>小站是用git page和hexo搭建的，使用的的主题是<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">NexT</a>。我选择主题最重要的标准就是文章的目录好不好用，哈哈，所以看了很多之后选择了这个。</p>
<a id="more"></a>
<p>未来计划业余技术时间主要在以下两个个方面，这些也将伴随着小站内容的丰富。</p>
<p><strong>web</strong></p>
<p>最近也计划复习复习web并加深学习一下，一来是为了自己玩的更爽，二来是因为随着学习的深入，越来越发觉编程思想的相通，而相比android，web发展则要久远的多，过去一段时间在android圈一个一个火起来的东西，思想在web圈由来已有，三来也是为之后跨平台的学习做一个铺垫。</p>
<p><strong>android</strong></p>
<p>此外也计划把之前学习的android知识在系统的整理一下，同时也买了两本android的书和一本讲android源码设计模式的，当做工具书和查漏补缺，完善我的知识体系，我是比较喜欢记笔记的，人生苦短，我可不想全部都装脑子里。。。如果用的比较少忘记了，很快查一下笔记就好了。</p>
<img src="/2016/02/26/个人小站建站记/ScreenShot.png" alt="ScreenShot.png" title="">
<p><em>主要精力应该还是在android这边，android这边感觉现在有点瓶颈，主要应该是积累的还不够，导致最近在插件化方面的研究有些吃力</em></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="个人小站建站记"><a href="#个人小站建站记" class="headerlink" title="个人小站建站记"></a>个人小站建站记</h1><blockquote>
<p>折腾了两天终于搭起了自己的第一个站点，恩，一件让我充满幸福感的事☺️。</p>
</blockquote>
<p>小站是用git page和hexo搭建的，使用的的主题是<a href="https://github.com/iissnan/hexo-theme-next">NexT</a>。我选择主题最重要的标准就是文章的目录好不好用，哈哈，所以看了很多之后选择了这个。</p>]]>
    
    </summary>
    
      <category term="随笔" scheme="http://never615.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="随笔" scheme="http://never615.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
